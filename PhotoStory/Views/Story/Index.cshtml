@model PhotoStory.ViewModels.Stories.Story_Index

@{
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container" style="margin-top: 20px">
	<div>
		<table class="centered-image-workaround">
			<tr>
				<td><img class="profile-image story-profile-image" src="@Url.Content(Model.User.ProfileImageUrl)" /></td>
			</tr>
		</table>
		<h2 class="story-username-title">@Model.User.UserName</h2>
	</div>

	<div data-bind="with: Chapter_New">
		@Html.Partial("~/Views/Chapters/_Chapter_New.cshtml", new PhotoStory.Models.Stories.Chapter())
	</div>

@section scripts {
	<script>
		require(["@Url.Content("~/Scripts/App.js")"], function (App) {
			App.whenReady(function () {
				require(["Scripts/ViewModels/Stories/Story_Index.js"], function (Story_Index) {
					var vm = Story_Index.create(@Html.Serialize(Model));
				});
			});
		});
	</script>
}
</div>

